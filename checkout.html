<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Thanh toán | AUTHENTIC</title>
  <style>
    body { font-family: 'Montserrat', sans-serif; padding: 40px; background: #f9f9f9; color: #111; }
    h1 { font-size: 28px; margin-bottom: 20px; }
    .section { background: #fff; padding: 30px; border-radius: 8px; margin-bottom: 30px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
    label { display: block; margin-top: 15px; font-weight: 500; }
    input, textarea { width: 100%; padding: 10px; margin-top: 6px; border: 1px solid #ccc; border-radius: 4px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 12px; text-align: center; }
    th { background: #111; color: #fff; }
    .total { font-size: 20px; font-weight: bold; text-align: right; margin-top: 20px; }
    button { padding: 12px 24px; background: #111; color: #fff; border: none; cursor: pointer; border-radius: 4px; margin-top: 20px; }
    button:hover { background: #333; }
  </style>
</head>
<body>
  <h1>Thanh toán</h1>

  <div class="section">
    <h2>Thông tin giao hàng</h2>
    <form id="checkout-form">
      <label>Họ và tên</label>
      <input type="text" id="name" required />
      <label>Số điện thoại</label>
      <input type="tel" id="phone" required />
      <label>Địa chỉ giao hàng</label>
      <textarea id="address" rows="3" required></textarea>
    </form>
  </div>

  <div class="section">
    <h2>Đơn hàng của bạn</h2>
    <div id="order-summary"></div>
  </div>

  <button onclick="confirmOrder()">Xác nhận đặt hàng</button>

  <script>
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const summary = document.getElementById("order-summary");

    if (cart.length === 0) {
      summary.innerHTML = "<p>Không có sản phẩm trong giỏ hàng.</p>";
      document.querySelector("button").style.display = "none";
    } else {
      let total = 0;
      let html = `<table><tr><th>Sản phẩm</th><th>Giá</th><th>Số lượng</th><th>Tổng</th></tr>`;
      cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        html += `
          <tr>
            <td>${item.name}</td>
            <td>${item.price.toLocaleString()}₫</td>
            <td>${item.quantity}</td>
            <td>${itemTotal.toLocaleString()}₫</td>
          </tr>
        `;
      });
      html += `</table><div class="total">Tổng cộng: ${total.toLocaleString()}₫</div>`;
      summary.innerHTML = html;
    }

    function confirmOrder() {
      const name = document.getElementById("name").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const address = document.getElementById("address").value.trim();

      if (!name || !phone || !address) {
        alert("Vui lòng điền đầy đủ thông tin giao hàng.");
        return;
      }

      localStorage.removeItem("cart");
      alert("Đặt hàng thành công! Cảm ơn bạn đã mua sắm tại AUTHENTIC.");
      window.location.href = "index.html";
    }let orders = JSON.parse(localStorage.getItem("user_orders")) || [];
orders.push({ name, phone, address, total });
localStorage.setItem("user_orders", JSON.stringify(orders));

  </script>
</body>
</html>
